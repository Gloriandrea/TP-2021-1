@using SIGECA.Entities;
@model IEnumerable<Producto>

@{
    ViewData["Title"] = "Gestionar Producto";
}

<h2 class="mt-3">Catálogo</h2>
<div class="row">
    <div class="col">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a asp-controller="Home" asp-action="Index">Dashboard</a></li>
                <li class="breadcrumb-item active" aria-current="page">Catálogo</li>
            </ol>
        </nav>
    </div>
    <div class="col">
        <button class="btn btn-primary float-right" data-bs-toggle="modal" data-bs-target="#registrarProducto">Agregar Producto a Catálogo</button>
    </div>
</div>
<p style="color:gray;">@Model.Count() productos en catálogo</p>

<table id="TableProducto" class="table">
    <thead class="thead-light">
        <tr>
            <th scope="col">@Html.DisplayNameFor(model => model.nombre)</th>
            <th scope="col">@Html.DisplayNameFor(model => model.tipoVenta)</th>
            <th scope="col">@Html.DisplayNameFor(model => model.stockAdquirido) (por kg)</th>
            <th scope="col">@Html.DisplayNameFor(model => model.precio)</th>
            <th scope="col">Acciones</th>
        </tr>
    </thead>
    <tbody>
        @if (Model != null)
        {
            @foreach (var product in Model)
            {
                <tr>
                    <td>@Html.DisplayFor(modelItem => product.nombre)</td>
                    <td>@Html.DisplayFor(modelItem => product.tipoVenta)</td>
                    <td>@Html.DisplayFor(modelItem => product.stockAdquirido)</td>
                    <td>S/. @Html.DisplayFor(modelItem => product.precio)</td>
                    <td>
                        <button class="btn"><img class="fas fa-eye" /></button>
                        <button class="btn"><img class="fas fa-edit" /></button>
                        <button class="btn"><img class="fas fa-ban" /></button>
                    </td>
                </tr>
            }

        }

    </tbody>
</table>


<div class="modal" id="registrarProducto" tabindex="-1" aria-labelledby="registrarProductoLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="registrarProductoLabel">Registro del producto</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form class="row g-3">
                    <div class="row">
                        <div class="mb-3 col-6">
                            <label for="nombre" class="form-label">PRODUCTO:</label>
                            <input class="form-control" id="nombreConsultar" placeholder="Filete de Cerdo">
                        </div>
                        <div class="mb-3 col-6">
                            <label for="precio" class="form-label">Precio Normal:</label>
                            <input class="form-control" id="precioConsultar" placeholder="998877665">
                        </div>
                    </div>
                    <div class="row">
                        <div class="mb-3 col-6">
                            <label for="categoria" class="form-label">Categoria: </label>
                            <input type="email" class="form-control" id="categoriaConsultar"
                                   placeholder="aves">
                        </div>
                        <div class="mb-3 col-6">
                            <label for="tipoProductto" class="form-label">Tipo de Producto:</label>
                            <input class="form-control" id="tipoProductoConsultar" placeholder="filete">
                        </div>
                    </div>
                    <div class="row">
                        <div class="mb-3 col-12">
                            <label for="direccion" class="form-label">Precio de Oferta</label>
                            <input class="form-control" id="precioOfertaConsultar" placeholder="S/. 34.00 " />
                        </div>
                    </div>
                    <div class="row" style="text-align:center">

                        <div class="dropzone" id="myDropzone">
                            <div class="fallback">
                                <input name="foto" type="file" id="imagenProducto" />
                            </div>
                        </div>

                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                <button type="button" class="btn btn-primary">Registrar Producto</button>
            </div>
        </div>
    </div>
</div>

<div class="modal" id="consultarProducto" tabindex="-1" aria-labelledby="consultarProductoLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="consultarUsuarioLabel">Detalle del producto</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form class="row g-3">
                    <div class="row">
                        <div class="mb-3 col-6">
                            <label for="nombre" class="form-label">PRODUCTO:</label>
                            <input class="form-control" id="nombreConsultar" value="Pechuga de Pollo" placeholder="Filete de Cerdo">
                        </div>
                        <div class="mb-3 col-6">
                            <label for="precio" class="form-label">Precio Normal:</label>
                            <input class="form-control" id="precioConsultar" value="S/. 54.00 " placeholder="998877665">
                        </div>
                    </div>
                    <div class="row">
                        <div class="mb-3 col-6">
                            <label for="categoria" class="form-label">Categoria: </label>
                            <input type="email" class="form-control" id="categoriaConsultar"
                                   value="Aves" placeholder="aves">
                        </div>
                        <div class="mb-3 col-6">
                            <label for="tipoProductto" class="form-label">Tipo de Producto:</label>
                            <input class="form-control" id="tipoProductoConsultar" value="Filete" placeholder="filete">
                        </div>
                    </div>
                    <div class="row">
                        <div class="mb-3 col-12">
                            <label for="direccion" class="form-label">Precio de Oferta</label>
                            <input class="form-control" id="precioOfertaConsultar" Value="S/. 34.00 " rows="3" placeholder="S/. 34.00 " />
                        </div>
                    </div>
                    <div class="row" style="text-align:center">
                        <label for="urlProducto" class="form-label">Imagen de Catalogo:</label>
                        <img src="https://www.ecestaticos.com/imagestatic/clipping/128/d1d/128d1d9fdb17f24faa91d0b5a2609b7e.jpg" style="width: 400px;
                                    height: 300px;
                                    margin-left: auto;
                                    margin-right: auto;
                                    display: block;" />
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
            </div>
        </div>
    </div>
</div>
@section scripts{
    <script type="text/javascript" src="@Url.Content("~/js/Loaders/dropzone.min.js")"></script>
    <script src="~/js/Catalogo/catalogo.js"></script>
}

